@tailwind base;
@tailwind components;
@tailwind utilities;

/* Print stylesheet for clean PDF export */
@page { size: auto; margin: 0.5in; }
@media print {
  /* Hide UI chrome */
  nav, footer, button, a[href^='#'] { display: none !important; }

  /* Base page adjustments */
  html, body {
    background: #fff !important;
    color: #000 !important;
    margin: 0 !important;
    padding: 0 !important;
    print-color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
  /* Slightly smaller to fit one-page resumes reliably */
  font-size: 10pt !important;
  line-height: 1.08 !important;
  }

  /* Use more of the page width and remove large paddings */
  main { box-shadow: none !important; padding-top: 0 !important; background: #fff !important; }
  #content > div { max-width: 7.5in !important; width: auto !important; margin: 0.08in auto !important; padding: 0.08in !important; }

  /* Slightly larger header spacing for clearer separation (compensated elsewhere) */
  header { margin-bottom: 0.09in !important; padding-bottom: 0.04in !important; border-bottom: none !important; }
  header h1 { font-size: 16pt !important; margin-bottom: 0 !important; }
  header h2 { font-size: 10pt !important; margin-bottom: 0.04in !important; }
  header .flex { gap: 0.04in !important; }

  /* Reduce spacing between sections (compensate for larger header) */
  section { margin-bottom: 0.035in !important; }
  .mb-8, .mb-6, .mb-4, .mb-3, .mb-2, .mb-1 { margin-bottom: 0 !important; }

  /* Avoid breaking inside small sections like Education */
  section, #content > div, main h3 { break-inside: avoid !important; page-break-inside: avoid !important; }
  /* Prefer to keep the final section (Education) together */
  section:last-of-type { break-inside: avoid !important; page-break-after: avoid !important; }

  /* Compact lists */
  ul { margin-top: 0 !important; margin-bottom: 0.048in !important; padding-left: 1.02em !important; }
  ul li { margin-bottom: 0.028in !important; }
  .space-y-4 > * + * { margin-top: 0.04in !important; }

  /* Remove paper textures and translucent overlays */
  .paper-texture, .paper-card, .paper-card:after, .dark .paper-card:after {
    background: #fff !important;
    opacity: 1 !important;
    box-shadow: none !important;
  }

  /* Force all text to black for print */
  * { color: #000 !important; }

  /* Make sure markers and list bullets are visible */
  ::marker { color: #000 !important; }

  /* Slightly reduce container padding to help fit one page */
  #content > div { padding: 0.04in !important; }

  /* Links should render as plain text in print */
  a { color: #000 !important; text-decoration: none !important; }

  /* Increase space after headings for readability (kept minimal) */
  main h3 { margin-bottom: 0.08in !important; padding-bottom: 0.02in !important; }
  main h3::after { margin-top: 0 !important; margin-bottom: 0.08in !important; height: 1px !important; }

  /* Avoid large hover/focus transforms affecting layout in print */
  .paper-card:hover, .paper-card:focus-within { transform: none !important; box-shadow: none !important; }
}

/* Section dividers and header rule for screen */
/* remove header divider: use blank header (visual separation provided by spacing) */
header { border-bottom: none; }
/* place the rule immediately below the heading text, then provide space below the rule */
main h3 { position: relative; padding-bottom: 0; margin-bottom: 0.28rem; }
/* place rule immediately below heading text with no gap between text and rule, and little space after rule */
main h3::after { content: ""; display: block; height: 1px; width: 100%; max-width: 100%; background-color: rgba(17,24,39,0.06); margin-top: 0 !important; margin-bottom: 0.12rem !important; }
.dark header { border-bottom-color: rgba(255,255,255,0.06); }
.dark main h3::after { background-color: rgba(255,255,255,0.08); }

/* Stronger divider for print to ensure visibility */
@media print {
  header { border-bottom: none !important; }
  main h3::after { background-color: rgba(0,0,0,0.18) !important; }
}

/* Global background to prevent white footer / gaps in dark mode */
html, body { background-color: #f9fafb; color: #111827; }
.dark html, .dark body { background-color: #111827; color: #f3f4f6; }

/* Add styles for paper-texture and paper-card */
.paper-texture {
  background-image: radial-gradient(1200px 400px at 30% -10%, #00000005, #0000 60%),
    repeating-linear-gradient(0deg, #00000004 0 1px, #0000 1px 3px),
    repeating-linear-gradient(90deg, #00000003 0 1px, #0000 1px 3px);
  background-blend-mode: multiply, normal, normal;
}

.dark .paper-texture {
  background-image: radial-gradient(1000px 360px at 30% -10%, #ffffff0a, #fff0 60%),
    repeating-linear-gradient(0deg, #ffffff05 0 1px, #fff0 1px 3px),
    repeating-linear-gradient(90deg, #ffffff05 0 1px, #fff0 1px 3px);
  background-blend-mode: screen, normal, normal;
}

.paper-card {
  position: relative;
  box-shadow: inset 0 0 0 1px #0000000d;
  transition: transform 0.18s cubic-bezier(0.2, 0.65, 0.35, 1),
    box-shadow 0.18s cubic-bezier(0.2, 0.65, 0.35, 1);
}

.dark .paper-card {
  box-shadow: inset 0 0 0 1px #ffffff14;
}

.paper-card:after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, #fff6, #fff0 35%);
  opacity: 0.05;
  pointer-events: none;
}

.dark .paper-card:after {
  background: linear-gradient(135deg, #ffffff40, #fff0 35%);
  opacity: 0.06;
}

.paper-card:hover,
.paper-card:focus-within {
  transform: translateY(-4px) rotate(-0.15deg);
  box-shadow: 0 16px 40px #0000002e;
}

@media (prefers-reduced-motion: reduce) {
  .paper-card {
    transition: none;
  }

  .paper-card:hover,
  .paper-card:focus-within {
    transform: none;
  }
}
